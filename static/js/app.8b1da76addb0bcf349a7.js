webpackJsonp([1],{F4j1:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("mvHQ"),i=n.n(a),l=n("mtWM"),o=n.n(l),c={name:"settingsComponent",props:{settingsData:{default:[]},executeCallback:{type:Function,required:!0},closeCallback:{type:Function,required:!0}},data:function(){return{settingsShow:!0}},methods:{save:function(){this.executeCallback(this.settingsData)},close:function(){this.closeCallback("closeSettings")}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.settingsShow?n("div",{staticClass:"settings"},[n("div",{staticClass:"settings--title"},[n("span",{staticClass:"name"},[t._v("Настройки")]),t._v(" "),n("button",{staticClass:"btn btn--default",on:{click:t.save}},[t._v("\n            Сохранить\n        ")]),t._v(" "),n("span",{staticClass:"settings--close",on:{click:t.close}},[t._v("x")])]),t._v(" "),n("div",{staticClass:"settings--data"},t._l(t.settingsData,function(e,s){return n("div",{key:s,staticClass:"settings--item"},[n("label",{attrs:{for:"value"+e.id}},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),"input"===e.fieldType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"setting.value"}],attrs:{id:"value"+e.id,maxlength:e.size,type:"text"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):"select"===e.fieldType?n("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"setting.value"}],on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"value",n.target.multiple?s:s[0])}}},t._l(e.options,function(e,s){return n("option",{key:s,domProps:{value:e.text}},[t._v("\n                    "+t._s(e.text)+"\n                ")])}),0):t._e()])}),0)]):t._e()},staticRenderFns:[]},r=n("VU/8")(c,u,!1,null,null,null).exports,p={name:"blockComponent",props:{blockData:{default:[]},executeCallback:{type:Function,required:!0}},data:function(){return{settingsShow:!0}},methods:{select:function(){this.executeCallback(this.blockData.id)}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block",class:t.blockData.name},[n("button",{staticClass:"btn btn--default",on:{click:t.select}},[t._v("\n        Настройки\n    ")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blockData.text,expression:"blockData.text"}],domProps:{value:t.blockData.text},on:{input:function(e){e.target.composing||t.$set(t.blockData,"text",e.target.value)}}})])},staticRenderFns:[]},v=n("VU/8")(p,d,!1,null,null,null).exports,m={name:"mainComponent",props:{msg:String},components:{BlockComponent:v,SettingsComponent:r,axios:o.a},data:function(){return{blocks:[{id:1,name:"yellow",text:"Сомнение рефлектирует естественный закон исключённого третьего.. Сомнение рефлектирует естественный закон исключённого третьего.. Согласно мнению известных философов, дедуктивный метод естественно порождает и обеспечивает мир, tertium nоn datur. Дедуктивный метод решительно представляет собой бабувизм.",settings:[{id:11,name:"Ширина",stringType:"int",fieldType:"input",value:"600",size:4},{id:12,name:"Высота",stringType:"int",fieldType:"input",value:"500",size:6}]},{id:2,name:"pink",text:"Структурализм абстрактен. Дедуктивный метод решительно представляет собой бабувизм. Апостериори, гравитационный парадокс амбивалентно понимает под собой интеллигибельный знак. Дискретность амбивалентно транспонирует гравитационный парадокс.",settings:[{id:22,name:"Скрытое",fieldType:"select",options:[{text:"Да",value:1},{text:"Нет",value:2}],value:"Да"}]}],selected:1,settingsShow:!1,editText:!1}},computed:{selectedBlock:function(){var t=this;return this.blocks.find(function(e){return e.id===t.selected})}},methods:{selectBlock:function(t){t!==this.selected&&this.settingsShow||(this.settingsShow=!this.settingsShow),this.selected=t},saveSettings:function(t){var e=this;this.selectedBlock.settings=t,o.a.post("/api/save",i()(this.blocks)).then(function(t){setTimeout(function(){e.settingsShow=!1},300)}).catch(function(t){console.log(t)})},closeSettings:function(){this.settingsShow=!1}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"blocks"},t._l(t.blocks,function(e,s){return n("block-component",{key:s,attrs:{blockData:e,"execute-callback":t.selectBlock}})}),1),t._v(" "),t.settingsShow?n("settings-component",{attrs:{settingsData:t.selectedBlock.settings,"execute-callback":t.saveSettings,"close-callback":t.closeSettings}}):t._e()],1)},staticRenderFns:[]};var f={name:"App",components:{"main-component":n("VU/8")(m,g,!1,function(t){n("F4j1")},null,null).exports}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("main-component")],1)},staticRenderFns:[]},h=n("VU/8")(f,k,!1,null,null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:h},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.8b1da76addb0bcf349a7.js.map